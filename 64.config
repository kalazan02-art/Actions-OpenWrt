# ========================================
# 基础系统配置
# ========================================
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_DEVICE_generic=y

# ========================================
# Docker 支持（已禁用，节省 8GB 空间）
# 如需 Docker，刷入固件后执行：opkg install docker dockerd
# ========================================
# CONFIG_CGROUPFS_MOUNT_KERNEL_CGROUPS is not set
# CONFIG_DOCKER_CGROUP_OPTIONS is not set
# CONFIG_DOCKER_NET_MACVLAN is not set
# CONFIG_DOCKER_OPTIONAL_FEATURES is not set
# CONFIG_DOCKER_STO_EXT4 is not set
# CONFIG_KERNEL_CFQ_GROUP_IOSCHED is not set
# CONFIG_KERNEL_CGROUP_DEVICE is not set
# CONFIG_KERNEL_CGROUP_FREEZER is not set
# CONFIG_KERNEL_CGROUP_HUGETLB is not set
# CONFIG_KERNEL_CGROUP_NET_PRIO is not set
# CONFIG_KERNEL_CGROUP_PERF is not set
# CONFIG_KERNEL_HUGETLBFS is not set
# CONFIG_KERNEL_HUGETLB_PAGE is not set
# CONFIG_KERNEL_MEMCG_SWAP_ENABLED is not set
# CONFIG_KERNEL_NET_CLS_CGROUP is not set
# CONFIG_KERNEL_PERF_EVENTS is not set
# CONFIG_KERNEL_TRANSPARENT_HUGEPAGE is not set
# CONFIG_KERNEL_TRANSPARENT_HUGEPAGE_ALWAYS is not set

# ========================================
# Node.js（已禁用，节省 2GB 空间）
# ========================================
# CONFIG_NODEJS_ICU_SMALL is not set
# CONFIG_PACKAGE_node is not set
# CONFIG_PACKAGE_libuv is not set
# CONFIG_PACKAGE_libcares is not set

# ========================================
# Samba 配置（已修复冲突）
# ========================================
CONFIG_PACKAGE_SAMBA_MAX_DEBUG_LEVEL=-1
CONFIG_PACKAGE_luci-app-samba=y
CONFIG_PACKAGE_samba36-server=y
# CONFIG_PACKAGE_autosamba is not set
CONFIG_PACKAGE_luci-i18n-samba-zh-cn=y

# ========================================
# 压缩工具
# ========================================
CONFIG_PACKAGE_TAR_BZIP2=y
CONFIG_PACKAGE_TAR_GZIP=y
CONFIG_PACKAGE_TAR_POSIX_ACL=y
CONFIG_PACKAGE_TAR_XATTR=y
CONFIG_PACKAGE_TAR_XZ=y
CONFIG_PACKAGE_TAR_ZSTD=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_bzip2=y
CONFIG_PACKAGE_tar=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_xz=y
CONFIG_PACKAGE_xz-utils=y

# ========================================
# 磁盘工具
# ========================================
CONFIG_PACKAGE_blkid=y
CONFIG_PACKAGE_btrfs-progs=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_parted=y
CONFIG_PACKAGE_smartmontools=y
CONFIG_PARTED_READLINE=y
CONFIG_PACKAGE_mdadm=y
CONFIG_PACKAGE_mount-utils=y

# ========================================
# Coreutils
# ========================================
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_coreutils-base64=y
CONFIG_PACKAGE_coreutils-nohup=y
CONFIG_PACKAGE_coreutils-stty=y
CONFIG_PACKAGE_coreutils-timeout=y

# ========================================
# 网络工具
# ========================================
CONFIG_PACKAGE_chinadns-ng=y
CONFIG_PACKAGE_dns2socks=y
# CONFIG_PACKAGE_etherwake is not set
CONFIG_PACKAGE_geoview=y
CONFIG_PACKAGE_haproxy=y
CONFIG_PACKAGE_microsocks=y
CONFIG_PACKAGE_mosdns=y
CONFIG_PACKAGE_mwan3=y
CONFIG_PACKAGE_resolveip=y
CONFIG_PACKAGE_tcping=y
CONFIG_PACKAGE_v2dat=y
CONFIG_PACKAGE_v2ray-geoip=y
CONFIG_PACKAGE_v2ray-geosite=y

# ========================================
# IPTables 模块
# ========================================
CONFIG_PACKAGE_iptables-mod-ipopt=y
CONFIG_PACKAGE_iptables-mod-iprange=y
CONFIG_PACKAGE_iptables-mod-socket=y

# ========================================
# 内核模块
# ========================================
CONFIG_PACKAGE_kmod-br-netfilter=y
CONFIG_PACKAGE_kmod-crypto-acompress=y
CONFIG_PACKAGE_kmod-dummy=y
CONFIG_PACKAGE_kmod-fs-btrfs=y
CONFIG_PACKAGE_kmod-inet-diag=y
CONFIG_PACKAGE_kmod-ipt-ipopt=y
CONFIG_PACKAGE_kmod-ipt-iprange=y
CONFIG_PACKAGE_kmod-ipt-physdev=y
CONFIG_PACKAGE_kmod-ipt-socket=y
CONFIG_PACKAGE_kmod-lib-lzo=y
CONFIG_PACKAGE_kmod-lib-raid6=y
CONFIG_PACKAGE_kmod-lib-xor=y
CONFIG_PACKAGE_kmod-lib-zlib-deflate=y
CONFIG_PACKAGE_kmod-lib-zstd=y
CONFIG_PACKAGE_kmod-md-mod=y
CONFIG_PACKAGE_kmod-md-raid0=y
CONFIG_PACKAGE_kmod-md-raid1=y
CONFIG_PACKAGE_kmod-md-raid10=y
CONFIG_PACKAGE_kmod-md-raid456=y
CONFIG_PACKAGE_kmod-netlink-diag=y
# CONFIG_PACKAGE_kmod-nf-conntrack-netlink is not set
CONFIG_PACKAGE_kmod-nf-ipvs=y
CONFIG_PACKAGE_kmod-nf-socket=y
CONFIG_PACKAGE_kmod-nft-core=y
CONFIG_PACKAGE_kmod-nft-nat=y
CONFIG_PACKAGE_kmod-nft-socket=y
CONFIG_PACKAGE_kmod-nft-tproxy=y
# CONFIG_PACKAGE_kmod-veth is not set

# ========================================
# 基础库
# ========================================
CONFIG_PACKAGE_libacl=y
CONFIG_PACKAGE_libaio=y
CONFIG_PACKAGE_libatomic=y
CONFIG_PACKAGE_libattr=y
CONFIG_PACKAGE_libbz2=y
CONFIG_PACKAGE_libcap=y
CONFIG_PACKAGE_libgmp=y
CONFIG_PACKAGE_libltdl=y
CONFIG_PACKAGE_liblua5.3=y
CONFIG_PACKAGE_liblzma=y
CONFIG_PACKAGE_liblzo=y
CONFIG_PACKAGE_libminiupnpc=y
CONFIG_PACKAGE_libnatpmp=y
CONFIG_PACKAGE_libparted=y
CONFIG_PACKAGE_libpopt=y
CONFIG_PACKAGE_libstdcpp=y
CONFIG_PACKAGE_libuci-lua=y
CONFIG_PACKAGE_libwebsockets-full=y
CONFIG_PACKAGE_libzstd=y
CONFIG_ZSTD_OPTIMIZE_O3=y

# ========================================
# Docker 相关（已禁用）
# ========================================
# CONFIG_PACKAGE_cgroupfs-mount is not set
# CONFIG_PACKAGE_containerd is not set
# CONFIG_PACKAGE_docker is not set
# CONFIG_PACKAGE_dockerd is not set
# CONFIG_PACKAGE_runc is not set
# CONFIG_PACKAGE_tini is not set
# CONFIG_PACKAGE_libseccomp is not set

# ========================================
# Ruby 相关（已禁用，Syncthing 需要）
# ========================================
# CONFIG_PACKAGE_libruby is not set
# CONFIG_PACKAGE_libyaml is not set
# CONFIG_PACKAGE_ruby is not set
# CONFIG_PACKAGE_ruby-bigdecimal is not set
# CONFIG_PACKAGE_ruby-date is not set
# CONFIG_PACKAGE_ruby-digest is not set
# CONFIG_PACKAGE_ruby-enc is not set
# CONFIG_PACKAGE_ruby-pstore is not set
# CONFIG_PACKAGE_ruby-psych is not set
# CONFIG_PACKAGE_ruby-stringio is not set
# CONFIG_PACKAGE_ruby-yaml is not set
# CONFIG_RUBY_ENABLE_YJIT is not set

# ========================================
# LuCI 应用
# ========================================
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-app-adguardhome_INCLUDE_binary=y
CONFIG_PACKAGE_luci-app-advancedsetting=y
# CONFIG_PACKAGE_luci-app-autoreboot is not set
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_btrfs_progs=y
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_kmod_md_linear=y
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_kmod_md_raid456=y
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_lsblk=y
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_mdadm=y

# Docker 应用（已禁用）
# CONFIG_PACKAGE_luci-app-dockerman is not set
# CONFIG_PACKAGE_luci-lib-docker is not set

CONFIG_PACKAGE_luci-app-lucky=y
CONFIG_PACKAGE_luci-app-mosdns=y
CONFIG_PACKAGE_luci-app-mwan3=y

# Netdata（已禁用，节省 3GB 空间）
# CONFIG_PACKAGE_luci-app-netdata is not set
# CONFIG_PACKAGE_netdata is not set

# CONFIG_PACKAGE_luci-app-nlbwmon is not set
CONFIG_PACKAGE_luci-app-openclash=y

# PassWall（已禁用）
# CONFIG_PACKAGE_luci-app-passwall is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Geoview is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Haproxy is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Hysteria is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_NaiveProxy is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadow_TLS is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_ShadowsocksR_Libev_Client is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_ShadowsocksR_Libev_Server is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Libev_Client is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Libev_Server is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Rust_Client is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Rust_Server is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Simple_Obfs is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_SingBox is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Trojan_Plus is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_V2ray_Geodata is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_V2ray_Plugin is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Xray is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Xray_Plugin is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_tuic_client is not set
# CONFIG_PACKAGE_luci-app-passwall_Iptables_Transparent_Proxy is not set
# CONFIG_PACKAGE_luci-app-passwall_Nftables_Transparent_Proxy is not set

# CONFIG_PACKAGE_luci-app-rclone_INCLUDE_rclone-ng is not set
# CONFIG_PACKAGE_luci-app-rclone_INCLUDE_rclone-webui is not set

# iStore（已禁用，有 bug）
# CONFIG_PACKAGE_luci-app-store is not set
# CONFIG_PACKAGE_taskd is not set
# CONFIG_PACKAGE_luci-lib-taskd is not set

# Syncthing（已禁用，节省 2GB 空间）
# CONFIG_PACKAGE_luci-app-syncthing is not set
# CONFIG_PACKAGE_syncthing is not set

CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-unblockneteasemusic=y
CONFIG_PACKAGE_luci-app-upnp=y
# CONFIG_PACKAGE_luci-app-wol is not set
CONFIG_PACKAGE_luci-app-zerotier=y

# ========================================
# 中文语言包
# ========================================
CONFIG_PACKAGE_luci-i18n-adguardhome-zh-cn=y
CONFIG_PACKAGE_luci-i18n-advancedsetting-zh-cn=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y
# CONFIG_PACKAGE_luci-i18n-dockerman-zh-cn is not set
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-lucky-zh-cn=y
CONFIG_PACKAGE_luci-i18n-mosdns-zh-cn=y
CONFIG_PACKAGE_luci-i18n-mwan3-zh-cn=y
# CONFIG_PACKAGE_luci-i18n-netdata-zh-cn is not set
CONFIG_PACKAGE_luci-i18n-opkg-zh-cn=y
# CONFIG_PACKAGE_luci-i18n-passwall-zh-cn is not set
# CONFIG_PACKAGE_luci-i18n-syncthing-zh-cn is not set
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y
CONFIG_PACKAGE_luci-i18n-zerotier-zh-cn=y

# ========================================
# LuCI 库
# ========================================
CONFIG_PACKAGE_luci-lib-xterm=y

# ========================================
# 主题
# ========================================
CONFIG_PACKAGE_luci-theme-argon=y

# ========================================
# 应用程序
# ========================================
CONFIG_PACKAGE_lucky=y
# CONFIG_PACKAGE_nlbwmon is not set
CONFIG_PACKAGE_script-utils=y
# CONFIG_PACKAGE_sing-box is not set
CONFIG_PACKAGE_ttyd=y
# CONFIG_PACKAGE_xray-core is not set
CONFIG_PACKAGE_zerotier=y

# ========================================
# Sing-box 相关（已禁用）
# ========================================
# CONFIG_SING_BOX_BUILD_ACME is not set
# CONFIG_SING_BOX_BUILD_CLASH_API is not set
# CONFIG_SING_BOX_BUILD_GVISOR is not set
# CONFIG_SING_BOX_BUILD_QUIC is not set
# CONFIG_SING_BOX_BUILD_TAILSCALE is not set
# CONFIG_SING_BOX_BUILD_UTLS is not set
# CONFIG_SING_BOX_BUILD_WIREGUARD is not set

# ========================================
# 分区大小（从 2048MB 改为 1024MB，节省编译空间）
# ========================================
CONFIG_TARGET_ROOTFS_PARTSIZE=1024
